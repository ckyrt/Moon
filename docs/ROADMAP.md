# 开发路线图

> **从引擎到平台的完整路径**  
> 查看 [README.md](../README.md) 了解产品愿景和价值主张

**当前进度**: 阶段 3 进行中 - WebUI 编辑器开发 (阶段 1-2 已完成 ✅)

---

## 📝 更新日志

### 2025-11-09: 扩展为完整路线图
- ✅ 从5个阶段扩展到12个阶段
- ✅ 从10个任务扩展到68个具体任务
- ✅ 新增"资源市场"和"多人世界"阶段
- ✅ 新增"盈利生态"和"组件系统"阶段
- ✅ 添加进度追踪表和时间预估

---

## 🎯 总体规划

```
[阶段 1-2]        [阶段 3-4]        [阶段 5-6]        [阶段 7-8]
引擎基础    →    内容创作工具   →   资源市场     →    多人世界
(3-6个月)         (6-12个月)        (3-6个月)        (6-12个月)
```

---

## 阶段 1: 引擎核心基础 ⚙️ ✅ 已完成

**目标**: 建立稳固的引擎架构

- ✅ **1. 输入系统** - 键盘/鼠标输入
- ✅ **2. 相机系统** - 透视/正交相机，FPS/轨道控制器
- ✅ **3. 场景系统** - Scene Graph, 场景管理
- ✅ **4. Transform + Hierarchy** - 位置/旋转/缩放，父子层级

**完成标志**: ✅ 能够在 3D 场景中放置和操作物体

---

## 阶段 2: 渲染与资源 🎨 ✅ 已完成

**目标**: 支持基础的几何体渲染

- ✅ **5. Mesh 管理器** - 缓存机制，几何体管理
- ✅ **6. 多物体渲染** - 批量渲染，Component 系统
- ✅ **7. 几何体生成** - 立方体、球体、圆柱等参数化图元
- 🔄 **8. 纹理系统** - 纹理加载、材质（延后到阶段 5）
- 🔄 **9. 外部模型加载** - OBJ/GLTF（延后到阶段 7）

**完成标志**: ✅ 能够渲染参数化生成的 3D 几何体

---

## 阶段 3: 编辑器基础工具 🛠️ 🔥 进行中

**目标**: 提供基本的场景编辑能力

### Phase 1: WebUI 基础架构（预计 2-3 周）
- ⏳ **10. React + TypeScript 项目搭建** - Vite, ESLint, 目录结构
- ⏳ **11. C++ ↔ JS 通信桥** - CEF V8 Binding, API 设计
- ⏳ **12. 编辑器布局** - 工具栏、场景树、属性面板、3D 视口
- ⏳ **13. 场景树面板** - Hierarchy 视图，节点操作
- ⏳ **14. 属性面板** - Inspector 视图，Transform 编辑
- ⏳ **15. 3D 视口交互** - 渲染集成，物体选择

### Phase 2: Gizmo 操作工具（预计 1 周）
- ⏳ **16. 3D Gizmo** - 位移/旋转/缩放工具
- ⏳ **17. 拾取系统** - 射线投射，鼠标选择

**完成标志**: 可视化编辑器能够创建和编辑简单场景

---

## 阶段 4: CSG 建模系统 📐 ⭐ 核心竞争力

**目标**: 实现核心竞争力 - 无需外部 3D 软件

### Phase 3: CSG 核心功能（预计 3-4 周）
- ⏳ **18. CSG 基础图元** - CSGBox, CSGSphere, CSGCylinder
- ⏳ **19. CSG 布尔运算** - 并集、交集、差集（manifold/CGAL）
- ⏳ **20. CSG 操作界面** - WebUI 集成，实时预览
- ⏳ **21. 网格生成与优化** - 高质量三角网格输出
- ⏳ **22. CSG 建模演示** - 完整工作流验证

**完成标志**: 用户可以在编辑器中用 CSG 创建建筑和场景，无需 Blender

**里程碑**: 🎉 达成"零依赖外部建模软件"核心愿景

**里程碑**: 🎉 达成"零依赖外部建模软件"目标

---

## 阶段 5: 参数化内容系统 🏗️

**目标**: 快速创建常用内容

### 建筑系统
- ⏳ **17. 墙体系统** - 参数化墙体生成
- ⏳ **18. 门窗系统** - 可交互的门窗
- ⏳ **19. 楼梯系统** - 直梯、旋转楼梯
- ⏳ **20. 地板/天花板** - 自动生成和贴图

### 地形系统
- ⏳ **21. 高度图地形** - 大型地形生成
- ⏳ **22. 地形笔刷** - 雕刻、平滑、绘制
- ⏳ **23. 道路系统** - 样条曲线道路
- ⏳ **24. 河流系统** - 流体效果河流

### 载具系统
- ⏳ **25. 载具物理** - 基础驾驶物理
- ⏳ **26. 载具模板** - 汽车、飞机、船

**完成标志**: 用户可以快速搭建完整的城市场景

---

## 阶段 6: 资源打包与本地市场 📦

**目标**: 实现资源的保存、加载、分享（本地）

- ⏳ **27. 资源序列化** - 保存/加载场景和预制件
- ⏳ **28. 预制件系统** - 可复用的组件
- ⏳ **29. 资源浏览器** - 本地资源管理
- ⏳ **30. 资源导入/导出** - 打包为可分享文件

**完成标志**: 用户可以保存和分享自己的创作

---

## 阶段 7: 在线资源市场 🌐

**目标**: 实现资源的上传、下载、付费

### 后端服务
- ⏳ **31. 用户系统** - 注册、登录、身份验证
- ⏳ **32. 资源上传** - 上传模型、预制件、功能模块
- ⏳ **33. 资源浏览** - 搜索、分类、评分
- ⏳ **34. 支付系统** - 付费资源购买
- ⏳ **35. 分成系统** - 创作者收益结算

### 编辑器集成
- ⏳ **36. 市场面板** - 编辑器内浏览资源
- ⏳ **37. 一键下载** - 点击即用
- ⏳ **38. 自动更新** - 资源版本管理

**完成标志**: 创作者可以上传资源并获得收益

**里程碑**: 🎉 达成"资源获取零摩擦"目标

---

## 阶段 8: 脚本与功能系统 🔧

**目标**: 支持高级功能开发

- ⏳ **39. Lua 脚本引擎** - 嵌入式脚本
- ⏳ **40. 事件系统** - 触发器、交互
- ⏳ **41. 行为树** - NPC AI
- ⏳ **42. 可视化脚本** - 蓝图式编程
- ⏳ **43. 脚本调试器** - 断点、变量查看

**完成标志**: 开发者可以创建复杂的游戏逻辑

---

## 阶段 9: 多人网络系统 🌐

**目标**: 支持多人在线游戏

### 网络核心
- ⏳ **44. 客户端-服务器架构** - 权威服务器
- ⏳ **45. 状态同步** - 位置、动画、交互
- ⏳ **46. 玩家系统** - 登录、角色、聊天
- ⏳ **47. 房间/服务器管理** - 多房间支持

### 协作编辑
- ⏳ **48. 多人编辑模式** - 实时协作
- ⏳ **49. 权限系统** - 编辑权限管理

**完成标志**: 多个玩家可以在同一个世界中游玩

---

## 阶段 10: 统一虚拟大世界 🌍

**目标**: 实现核心愿景 - Big World

### 大世界系统
- ⏳ **50. 世界坐标系统** - 大型世界坐标管理
- ⏳ **51. 区域分配系统** - 土地购买/租赁
- ⏳ **52. 动态加载/卸载** - 流式加载
- ⏳ **53. 跨区域传送** - 玩家在不同游戏间移动

### 社交与发现
- ⏳ **54. 世界地图** - 全局地图查看
- ⏳ **55. 游戏推荐** - 热门区域、新游戏
- ⏳ **56. 社交功能** - 好友、组队

**完成标志**: 玩家可以在大世界中自由探索不同游戏

**里程碑**: 🎉 达成"统一虚拟世界"核心愿景

---

## 阶段 11: 盈利与生态系统 💰

**目标**: 完善商业模式

### 盈利功能
- ⏳ **57. 门票系统** - 游戏入场收费
- ⏳ **58. 广告系统** - 场景内品牌植入
- ⏳ **59. 打赏系统** - 玩家打赏创作者
- ⏳ **60. 数据分析** - 访问量、收入统计

### 创作者工具
- ⏳ **61. 收益面板** - 实时查看收入
- ⏳ **62. 营销工具** - 推广、优惠券
- ⏳ **63. 版权保护** - 资源加密、防盗

**完成标志**: 创作者可以通过多种方式盈利

**里程碑**: 🎉 完整的"创作-发布-盈利"闭环

---

## 阶段 12: 优化与扩展 🚀

**目标**: 提升性能和用户体验

- ⏳ **64. 性能优化** - LOD、遮挡剔除
- ⏳ **65. 移动端支持** - iOS/Android
- ⏳ **66. VR 支持** - VR 设备适配
- ⏳ **67. 云游戏** - 浏览器直接游玩
- ⏳ **68. AI 辅助创作** - AI 生成建筑、地形

**完成标志**: 平台稳定、高性能、多平台支持

---

## 📊 进度追踪

| 阶段 | 任务数 | 完成 | 进度 | 预计时间 |
|------|--------|------|------|----------|
| 1. 引擎核心 | 4 | 2 | 50% | 2 个月 |
| 2. 渲染资源 | 3 | 0 | 0% | 2 个月 |
| 3. 编辑器工具 | 5 | 0 | 0% | 3 个月 |
| 4. CSG 建模 | 4 | 0 | 0% | 4 个月 |
| 5. 参数化系统 | 10 | 0 | 0% | 6 个月 |
| 6. 本地资源 | 4 | 0 | 0% | 2 个月 |
| 7. 在线市场 | 8 | 0 | 0% | 4 个月 |
| 8. 脚本系统 | 5 | 0 | 0% | 3 个月 |
| 9. 多人网络 | 5 | 0 | 0% | 4 个月 |
| 10. 大世界 | 6 | 0 | 0% | 6 个月 |
| 11. 盈利生态 | 7 | 0 | 0% | 3 个月 |
| 12. 优化扩展 | 5 | 0 | 0% | 持续 |

**总计**: 68 个任务，2 个已完成

---

## 🎯 近期重点 (未来 3 个月)

1. ✅ 完成场景系统和 Transform 层级
2. ✅ 实现基础的模型加载和渲染
3. ✅ 完成 WebUI 编辑器集成
4. ✅ 开始 CSG 建模系统的研发

---

## 📚 相关文档

- [项目愿景](VISION.md) - 为什么做这个平台
- [架构文档](../README.md) - 技术架构详解
